(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[58],{XCpw:function(e,t,l){"use strict";var a=l("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l("14J3");var n=a(l("BMrR"));l("OaEy");var u=a(l("2fM7"));l("5Dmo");var d=a(l("3S7+"));l("5NDa");var r=a(l("5rEg"));l("giR+");var f=a(l("fyUT"));l("y8nQ");var i=a(l("Vl3Y"));l("jCWc");var m=a(l("kPKH")),s=a(l("qIgq")),o=v(l("q1tI")),c=a(l("dRV3"));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(p=function(e){return e?l:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var l=p(t);if(l&&l.has(e))return l.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var d=n?Object.getOwnPropertyDescriptor(e,u):null;d&&(d.get||d.set)?Object.defineProperty(a,u,d):a[u]=e[u]}return a.default=e,l&&l.set(e,a),a}var E=function(e){var t,l=e.form,a=e.form.getFieldDecorator,p=e.metadata,v=JSON.parse(p),E=v.properties,g=(0,o.useState)(),y=(0,s.default)(g,2),b=y[0],w=y[1],h=null===(t=e.data)||void 0===t?void 0:t.config,x=function(){var e;return l.validateFields(function(t,l){t||(e=l)}),e};(0,o.useEffect)(function(){var t,l;(e.save&&e.save(function(){return x()}),e.data)&&w(null===(t=e.data)||void 0===t?void 0:null===(l=t.config)||void 0===l?void 0:l.dimension)},[]);var I=function(){return"history"===b?o.default.createElement(o.default.Fragment,null,o.default.createElement(m.default,{xl:{span:10,offset:2},lg:{span:8},md:{span:12},sm:24},o.default.createElement(i.default.Item,{label:"\u6570\u636e\u91cf"},a("history",{initialValue:(null===h||void 0===h?void 0:h.history)||30,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u636e\u91cf"}]})(o.default.createElement(f.default,{style:{width:"100%"}})))),o.default.createElement(m.default,{xl:{span:10,offset:2},lg:{span:10},md:{span:24},sm:24},o.default.createElement(i.default.Item,{label:"\u65f6\u95f4\u683c\u5f0f"},a("timeFormat",{initialValue:(null===h||void 0===h?void 0:h.timeFormat)||"yyyy-MM-dd",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65f6\u95f4\u683c\u5f0f"}]})(o.default.createElement(r.default,null)))),o.default.createElement(m.default,{xl:{span:22,offset:2},lg:{span:8},md:{span:12},sm:24},o.default.createElement(d.default,{title:"now\u8868\u793a\u5f53\u524d\u65f6\u95f4\uff0c\u5982\uff1anow-30d"},o.default.createElement(i.default.Item,{label:"\u65f6\u95f4\u8303\u56f4",style:{marginBottom:0}},o.default.createElement(i.default.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"}},a("from",{initialValue:(null===h||void 0===h?void 0:h.from)||"now-7d",rules:[{required:!0}]})(o.default.createElement(r.default,null))),o.default.createElement("span",{style:{display:"inline-block",width:"24px",textAlign:"center"}},"-"),o.default.createElement(i.default.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"}},a("to",{initialValue:null===h||void 0===h?void 0:h.to})(o.default.createElement(r.default,null))))))):"agg"===b?o.default.createElement(o.default.Fragment,null,o.default.createElement(m.default,{xl:{span:10,offset:2},lg:{span:8},md:{span:12},sm:24},o.default.createElement(i.default.Item,{label:"\u6570\u636e\u91cf"},a("limit",{initialValue:(null===h||void 0===h?void 0:h.limit)||30,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u636e\u91cf"}]})(o.default.createElement(f.default,{style:{width:"100%"}})))),o.default.createElement(m.default,{xl:{span:10,offset:2},lg:{span:10},md:{span:24},sm:24},o.default.createElement(i.default.Item,{label:"\u805a\u5408\u7c7b\u578b"},a("agg",{initialValue:(null===h||void 0===h?void 0:h.agg)||"avg",rules:[{required:!0}]})(o.default.createElement(u.default,null,o.default.createElement(u.default.Option,{value:"avg"},"AVG"),o.default.createElement(u.default.Option,{value:"sum"},"SUM"),o.default.createElement(u.default.Option,{value:"count"},"COUNT"),o.default.createElement(u.default.Option,{value:"max"},"MAX"),o.default.createElement(u.default.Option,{value:"min"},"MIN"))))),o.default.createElement(m.default,{xl:{span:22,offset:2},lg:{span:8},md:{span:12},sm:24},o.default.createElement(d.default,{title:"now\u8868\u793a\u5f53\u524d\u65f6\u95f4\uff0c\u5982\uff1anow-30d"},o.default.createElement(i.default.Item,{label:"\u65f6\u95f4\u8303\u56f4",style:{marginBottom:0}},o.default.createElement(i.default.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"}},a("from",{initialValue:(null===h||void 0===h?void 0:h.from)||"now-30d"})(o.default.createElement(r.default,null))),o.default.createElement("span",{style:{display:"inline-block",width:"24px",textAlign:"center"}},"-"),o.default.createElement(i.default.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"}},a("to",{initialValue:(null===h||void 0===h?void 0:h.to)||"now"})(o.default.createElement(r.default,null)))))),o.default.createElement(m.default,{xl:{span:10,offset:2},lg:{span:8},md:{span:12},sm:24},o.default.createElement(d.default,{title:"M:\u6708\u3001d:\u5929\u3001h:\u5c0f\u65f6\u3001m:\u5206\u949f\u3001"},o.default.createElement(i.default.Item,{label:"\u65f6\u95f4\u95f4\u9694"},a("time",{initialValue:(null===h||void 0===h?void 0:h.time)||"1d",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65f6\u95f4\u95f4\u9694"}]})(o.default.createElement(r.default,null))))),o.default.createElement(m.default,{xl:{span:10,offset:2},lg:{span:10},md:{span:24},sm:24},o.default.createElement(i.default.Item,{label:"\u65f6\u95f4\u683c\u5f0f"},a("format",{initialValue:(null===h||void 0===h?void 0:h.format)||"yyyy-MM-dd",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65f6\u95f4\u683c\u5f0f"}]})(o.default.createElement(r.default,null))))):"realTime"===b?o.default.createElement(o.default.Fragment,null,o.default.createElement(m.default,{xl:{span:22,offset:2},lg:{span:8},md:{span:12},sm:24},o.default.createElement(i.default.Item,{label:"\u6570\u636e\u91cf"},a("history",{initialValue:(null===h||void 0===h?void 0:h.history)||30,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u636e\u91cf"}]})(o.default.createElement(f.default,{style:{width:"100%"}}))))):null};return o.default.createElement(i.default,{className:c.default.configForm},o.default.createElement(n.default,{gutter:16},o.default.createElement(m.default,{lg:22,push:2,md:12,sm:24},o.default.createElement(i.default.Item,{label:"\u540d\u79f0"},a("name",{initialValue:null===h||void 0===h?void 0:h.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0"}]})(o.default.createElement(r.default,null)))),o.default.createElement(m.default,{xl:{span:10,offset:2},lg:{span:8},md:{span:12},sm:24},o.default.createElement(i.default.Item,{label:"X\u8f74"},a("x",{initialValue:(null===h||void 0===h?void 0:h.x)||"\u65f6\u95f4",rules:[{required:!0,message:"\u8bf7\u8f93\u5165X\u8f74\u540d\u79f0"}]})(o.default.createElement(r.default,{placeholder:"X\u8f74\u540d\u79f0"})))),o.default.createElement(m.default,{xl:{span:10,offset:2},lg:{span:10},md:{span:24},sm:24},o.default.createElement(i.default.Item,{label:"Y\u8f74"},a("y",{initialValue:(null===h||void 0===h?void 0:h.y)||"\u503c",rules:[{required:!0,message:"\u8bf7\u8f93\u5165Y\u8f74\u540d\u79f0"}]})(o.default.createElement(r.default,{placeholder:"Y\u8f74\u540d\u79f0"})))),o.default.createElement(m.default,{xl:{span:10,offset:2},lg:{span:8},md:{span:12},sm:24},o.default.createElement(i.default.Item,{label:"\u5c5e\u6027"},a("measurement",{initialValue:null===h||void 0===h?void 0:h.measurement,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5c5e\u6027"}]})(o.default.createElement(u.default,{style:{width:"100%"}},E.map(function(e){return o.default.createElement(u.default.Option,{key:e.id,value:e.id},e.name)}))))),o.default.createElement(m.default,{xl:{span:10,offset:2},lg:{span:10},md:{span:24},sm:24},o.default.createElement(i.default.Item,{label:"\u7c7b\u578b"},a("dimension",{initialValue:null===h||void 0===h?void 0:h.dimension,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u7c7b\u578b"}]})(o.default.createElement(u.default,{onChange:function(e){return w(e)}},o.default.createElement(u.default.Option,{value:"history"},"\u5386\u53f2\u6570\u636e"),o.default.createElement(u.default.Option,{value:"agg"},"\u805a\u5408\u6570\u636e"),o.default.createElement(u.default.Option,{value:"realTime"},"\u5b9e\u65f6\u6570\u636e")))))),I())},g=i.default.create()(E);t.default=g}}]);